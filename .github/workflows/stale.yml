name: Close Stale Issues

on:
  schedule:
    - cron: "0 9 * * 1" # every Monday at 09:00 UTC

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          stale-issue-message: >
            This issue has been inactive for 60 days. It will be closed in 14 days
            unless there is new activity. If this is still relevant, please comment
            to keep it open.
          stale-pr-message: >
            This PR has been inactive for 30 days. It will be closed in 14 days
            unless updated. If you're still working on this, please push an update
            or comment.
          days-before-issue-stale: 60
          days-before-pr-stale: 30
          days-before-issue-close: 14
          days-before-pr-close: 14
          stale-issue-label: "stale"
          stale-pr-label: "stale"
          exempt-issue-labels: "roadmap,pinned"
          exempt-pr-labels: "pinned"
